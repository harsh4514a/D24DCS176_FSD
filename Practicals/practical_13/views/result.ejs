<!DOCTYPE html>
<html>

<head>
    <title>Income Total</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="container">
        <h1>Total Income Result</h1>
        <p><strong>Income Source 1:</strong> $<%= income1.toFixed(2) %>
        </p>
        <p><strong>Income Source 2:</strong> $<%= income2.toFixed(2) %>
        </p>
        <hr>
        <p><strong>Total Income:</strong> $<%= total.toFixed(2) %>
        </p>
        <a href="/">Back to Form</a>
        <a href="/history">View History</a>
    </div>
    <script>
        // Store the calculation in localStorage
        const calculation = {
            income1: <%= JSON.stringify(income1) %>,
            income2: <%= JSON.stringify(income2) %>,
            total: <%= JSON.stringify(total) %>,
            timestamp: new Date().toISOString()
        };

        let calculations = JSON.parse(localStorage.getItem('calculations')) || [];
        calculations.push(calculation);
        localStorage.setItem('calculations', JSON.stringify(calculations));
    </script>
</body>

</html>